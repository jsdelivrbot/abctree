var abctree_style=document.createElement("style");abctree_style.type="text/css",abctree_style.innerHTML='.abctree_leaf { background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AMfEi8WbCB2GQAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAYElEQVQY032QuQ2AMBAEZxE5ZVERufshpwQ6cAFUQEy0BLYlm8cjbbY3dzqRsc0Xkhhygx4qpV4tmdZW/2QE4ATNC0xHx7c73WVDCNhuktZd1UCMP6bNEPwylOjvgvpvNwXXOMpWayahAAAAAElFTkSuQmCC"); width: 9px; height: 9px; float: left; margin: 3px; }',document.getElementsByTagName("head")[0].appendChild(abctree_style),(abctree_style=document.createElement("style")).type="text/css",abctree_style.innerHTML='.abctree_expanded { background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAT0lEQVQImWNowA0YGhoarn7+j4kQcq9//n/98//bX//f/Pz/5uf/17+Q5N78/P/2FwpCyDG6VSEjFLlPv3Hb9/UPOkKR+/EXKgphQOVwAQAPSLGYw3tZHAAAAABJRU5ErkJggg=="); width: 9px; height: 9px; float: left; margin: 3px; }',document.getElementsByTagName("head")[0].appendChild(abctree_style),(abctree_style=document.createElement("style")).type="text/css",abctree_style.innerHTML='.abctree_collapsed { background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAXElEQVQImXXNQQrAIAwEQP1cHuUpn/QVxksl0FjL9qBQpXXZw8IE4ngfx8yx4NvXkiEZPAUxiCHVycSQKzyFWJAr8myewtzFjgv94uefNmgb1vdi5w1tiGWMYbs8uiCoqOdNhIkAAAAASUVORK5CYII="); width: 9px; height: 9px; float: left; margin: 3px; }',document.getElementsByTagName("head")[0].appendChild(abctree_style),(abctree_style=document.createElement("style")).type="text/css",abctree_style.innerHTML=".abctree_selected { background-color: #e0e0e0; cursor: pointer; font-family: 'Arial'; font-size: 12px; }",document.getElementsByTagName("head")[0].appendChild(abctree_style),(abctree_style=document.createElement("style")).type="text/css",abctree_style.innerHTML=".abctree_deselected { background-color: null; cursor: pointer; font-family: 'Arial'; font-size: 12px; }",document.getElementsByTagName("head")[0].appendChild(abctree_style);var abctree=function(e,t){"use strict";return this.node_num=0,this.id=e,this.nodes=[],this.indent=0,this.table=document.createElement("table"),this.table.id=e,this.selected=null,this.root=this,document.getElementById(t).appendChild(this.table),this};abctree.prototype.add_child=function(e,t,l,a){"use strict";var n=new abctree_node(this,e,t);this.nodes.push(n),n.select();var s,o=n.make_callback(n.select,n);s="function"==typeof l?n.make_callback(l,e):function(){};return n.table_row.children[1].onclick=function(){o(),s()},n},abctree.prototype.all_below=function(){"use strict";for(var e=[],t=0;t<this.nodes.length;t++)e.push(this.nodes[t]);for(t=0;t<this.nodes.length;t++)e=e.concat(this.nodes[t].all_below());return e},abctree.prototype.collapse_all=function(e){"use strict";null==e&&(e=this);var t,l=e.all_below();for(t=0;t<l.length;t++)l[t].collapse(l[t])};var abctree_node=function(e,t,l,a){"use strict";var n,s,o,r,i;for(void 0===a&&(a=null),this.root=e.root,this.id=this.root.id+"."+this.root.node_num++,this.nodes=[],this.parent=e,this.indent=0,this.collapsed=!0,this.table=e.table,this.val=l,o=e.table.rows.length,r=this.last_node_under(a).id,i=this.table.rows.length,n=0;n<o;n++)if(this.table.rows[n].id==r){i=n+1;break}return(s=this.table.insertRow(i)).style.display="block",s.id=this.id,s.innerHTML="<div id="+this.id+".img></div><td id="+this.id+".val>"+l+"</td>",s.children[0].className="abctree_leaf",this.table_row=s,this};abctree_node.prototype.hide=function(){"use strict";this.table_row.style.display="none"},abctree_node.prototype.show=function(){"use strict";this.table_row.style.display="block"},abctree_node.prototype.select=function(e){"use strict";var t;null!=(t=e||this).root.selected&&t.root.selected.deselect(),t.root.selected=t,t.table_row.children[1].className="abctree_selected"},abctree_node.prototype.deselect=function(){"use strict";this.table_row.children[1].className="abctree_deselected"},abctree_node.prototype.all_below=function(e){"use strict";for(var t=[],l=0;l<this.nodes.length;l++)t.push(this.nodes[l]),void 0===e?t=t.concat(this.nodes[l].all_below(e)):"expanded"!=e||this.nodes[l].collapsed||(t=t.concat(this.nodes[l].all_below(e)));return t},abctree_node.prototype.collapse=function(e){"use strict";"abctree_leaf"!=e.table_row.children[0].className&&(e.table_row.children[0].className="abctree_collapsed",e.collapsed=!0,e.all_below().forEach(function(e){e.hide()}))},abctree_node.prototype.expand=function(e){"use strict";"abctree_leaf"!=e.table_row.children[0].className&&(e.table_row.children[0].className="abctree_expanded",e.collapsed=!1,e.nodes.concat(e.all_below("expanded")).forEach(function(e){e.show()}))},abctree_node.prototype.toggle_expanded=function(e){"use strict";"abctree_expanded"==e.table_row.children[0].className?e.collapse(e):"abctree_collapsed"==e.table_row.children[0].className&&e.expand(e)},abctree_node.prototype.make_callback=function(e,t){"use strict";return function(){return e(t)}},abctree_node.prototype.add_child=function(e,t,l,a){"use strict";var n,s,o,r=new abctree_node(this,e,t,a);r.indent=this.indent+10,r.table_row.style.margin="0px 0px 0px "+r.indent+"px",r.table_row.style.display="none",r.parent=this,r.root=this.root,this.table_row.children[0].className="abctree_collapsed";var i,c=this.make_callback(this.toggle_expanded,this);this.table_row.children[0].onclick=c,c=r.make_callback(r.select,r),i="function"==typeof l?r.make_callback(l,e):function(){};if(r.table_row.children[1].onclick=function(){c(),i()},null==typeof a||null==a)this.nodes.push(r);else{for(n=0,s=[],o=0;o<this.nodes.length;o++)s.push(this.nodes[o]),n||this.nodes[o]!=a||(s.push(r),n++);n||s.push(r),this.nodes=s}return r.select(),this.expand(this),r},abctree_node.prototype.delete=function(){"use strict";var e,t,l=this.all_below();for(e=0;e<this.table.rows.length;e++)if(this.table.rows[e].id==this.id){this.table.deleteRow(e);break}for(e=0;e<this.parent.nodes.length;e++)this.parent.nodes[e]==this&&(t=(t=this.parent.nodes.slice(0,e)).concat(this.parent.nodes.slice(e+1)),this.parent.nodes=t);for(e=0;e<l.length;e++)l[e].delete()},abctree_node.prototype.get_child_by_id=function(e){"use strict";for(var t=this.all_below(),l=0;l<t.length;l++)if(t[l].id==e)return t[l];return null},abctree_node.prototype.get_child_by_val=function(e){"use strict";for(var t=this.all_below(),l=0;l<t.length;l++)if(t[l].val==e)return t[l];return null},abctree_node.prototype.last_node_under=function(e){var t,l;return null!=e?((t=[]).push(e),l=(t=t.concat(e.all_below()))[t.length-1]):l=0==this.parent.nodes.length?this.parent:(t=this.parent.all_below())[t.length-1],l};
